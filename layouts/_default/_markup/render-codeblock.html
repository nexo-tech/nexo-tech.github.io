{{- $label := print .Type " code snippet" -}}
<figure class="relative my-8  border-gray-200 overflow-hidden" role="figure" aria-label="{{- $label | plainify -}}">
  <div class="flex items-center justify-between px-1 py-2 border-b border-gray-200">
    {{- with .Attributes.title -}}
    <div class="text-sm font-bold text-gray-700">{{ . }}</div>
    {{- else -}}
    <div class="text-sm font-bold text-gray-600">{{ .Type }}</div>
    {{- end -}}
    <div class="code-copy relative">
      <span class="code-copied absolute right-0 -top-8 bg-black text-white text-xs px-2 py-1 opacity-0 transition-opacity duration-300">Copied!</span>
      <button class="cursor-pointer hover:text-gray-400 flex items-center justify-center w-6 h-6 text-gray-600 hover:text-black transition-colors focus:outline-none">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather"
        >
          <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
          <path
            d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
          ></path>
        </svg>
      </button>
      <textarea class="hidden">{{ .Inner }}</textarea>
    </div>
  </div>
  <div class="overflow-x-auto">
    {{- with transform.HighlightCodeBlock . -}} 
    <div class="code-content font-mono text-sm leading-relaxed">{{ .Wrapped }}</div>
    {{- end -}}
  </div>
</figure>
