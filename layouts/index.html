{{ define "main" }}
<style>
  /* need to have smooth scroll behavior on this page */
  html {
    scroll-behavior: smooth;
  }
</style>
<script type="application/json" id="skills-data">
  {
    "primary": {{ .Site.Params.skills.primary  }},
    "secondary": {{ .Site.Params.skills.secondary  }},
    "tertiary": {{ .Site.Params.skills.tertiary  }}
  }
</script>

<!-- Hero Section -->
<section
  id="hero"
  class="section w-full max-w-[1078px] mx-auto px-4 sm:px-6 lg:px-8 min-h-screen flex items-center"
>
  <div class="w-full">
    <div class="grid grid-cols-1 lg:grid-cols-10 gap-8 lg:gap-30">
      <!-- Main Heading - Spans 6 columns -->
      <div class="lg:col-span-6">
        <div class="text-4xl lg:text-5xl font-bold leading-tight text-primary">
          <div class="terminal-container">
            <span id="terminal-line1" class="terminal-text whitespace-nowrap">Built MVPs.</span>
            <span id="terminal-line2" class="terminal-text whitespace-nowrap">Led teams.</span>
            <span id="terminal-line3" class="terminal-text whitespace-nowrap">Survived funding drama.</span>
            <span class="cursor"></span>
          </div>
          <!-- Hidden text for SEO and backup -->
          <h1 class="hidden-text">
            Built MVPs. Led teams. Survived funding drama.
          </h1>
        </div>
      </div>

      <!-- Side Text - Spans 4 columns -->
      <div class="lg:col-span-4">
        <p
          class="scrambled-text sidebar-text text-lg lg:text-xl text-primary leading-relaxed font-light"
        >
          {{ .Site.Params.hero.sidebarText | markdownify }}
        </p>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="mt-8 relative h-12">
      <a
        href="#collaborate"
        class="inline-flex items-center text-lg lg:text-xl font-semibold group text-primary hover:text-primary/80 transition-colors absolute bottom-0"
      >
        {{ .Site.Params.hero.cta }}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 ml-2 transform group-hover:translate-x-1 transition-transform"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 8l4 4m0 0l-4 4m4-4H3"
          />
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- Introduction Section -->
<section
  id="introduction"
  class="w-full bg-black text-white py-32 introduction-reveal"
>
  <div class="w-full max-w-[1078px] mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-20 gap-0">
      <!-- Name Block -->
      <div class="lg:col-span-9 relative flex flex-col justify-center overflow-hidden">
        <div id="introduction-name"
          class="absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/5 rounded-lg"
        ></div>
        <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black/80 rounded-lg"></div>
        <div class="name-slide-container relative z-10 mt-[-50px]">
          <h2 class="text-5xl text-right lg:text-8xl font-bold leading-none">
            {{- $parts := split .Site.Params.introduction.title " " }}
            <span class="name-part block">
              <span class="name-slide inline-block">{{ index $parts 0}}</span>
            </span>
            <span class="name-part block overflow-hidden">
              <span class="name-slide inline-block">{{ index $parts 1}}</span>
            </span>
          </h2>
        </div>
      </div>
      <div class="lg:col-span-3" ></div>
      <!-- Introduction Text -->
      <div class="lg:col-span-8 flex flex-col gap-8 py-24 overflow-hidden parallax-text">
        <p class="text-lg lg:text-xl leading-relaxed">
          Lead Software Engineer specializing in scalable infrastructure for
          early-stage startups. I've taken multiple products from zero to MVPâ€”hands-on
          with Kubernetes, Go, GraphQL, and the rest of the modern cloud jungle.
        </p>
        <p class="text-lg lg:text-xl leading-relaxed">
          This site shares lessons from the buildout trenches: system design patterns,
          startup engineering strategies, and practical technical write-ups.
        </p>
        <p class="text-lg lg:text-xl leading-relaxed">
          Interested in <span class="font-bold">co-founding opportunities</span> and <span class="font-bold">long-term technical leadership</span> for teams solving real problems at scale.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Services Section -->
<section
  id="services"
  class="section w-full max-w-[1078px] mx-auto px-4 sm:px-6 lg:px-8 pt-32"
>
  <!-- Section Header -->
  <div class="grid grid-cols-1 lg:grid-cols-10 gap-0 mb-20">
    <div class="lg:col-span-4 services-header">
      <h2 class="text-4xl lg:text-5xl font-bold text-primary">Services</h2>
    </div>
    <div class="lg:col-span-6 services-tagline">
      <p class="typewriter text-xl lg:text-2xl text-primary font-light">
        > I do useful things. For money.
      </p>
    </div>
  </div>

  <!-- Services Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-10 lg:gap-x-30">
    <!-- MVP Development -->
    {{ range $index, $service := .Site.Params.services }}
    <div
      class="lg:col-span-3 text-primary text-left text-lg pr-8 text-md leading-none opacity-70 font-extralight tracking-tight"
    >
      <div class="mt-1">0{{ add $index 1 }}</div>
    </div>
    <div class="lg:col-span-7 service-card">
      <h3 class="text-xl lg:text-2xl font-bold mb-4 text-primary mt-0">
        {{ $service.title }}
      </h3>
      <p class="text-primary lg:text-lg text-primary/80 font-light">
        {{ $service.description }}
      </p>
    </div>
    <!-- Separator Line -->
    <div class="lg:col-span-10 my-10">
      <div class="service-separator h-px bg-primary/20 overflow-hidden">
        <div class="separator-line w-0 h-full bg-text-dark"></div>
      </div>
    </div>
    {{ end }}
  </div>
</section>
<section
  id="tech-stack"
  class="section w-full max-w-[1078px] mx-auto px-4 sm:px-6 lg:px-8 pt-32 tech-stack-reveal overflow-hidden hidden md:block"
>
  <!-- Tech Stack -->
  <div class="mt-16 lg:mt-32 tech-stack">
    <div class="lg:col-span-4 mb-8">
      <h2 class="text-4xl lg:text-5xl font-bold text-primary">> tech stack <span id="tech-hover-text" class="text-primary/60"></span></h2>
    </div>
    <div class="tech-grid" id="tech-grid">
      <!-- Tech items will be populated by JavaScript -->
    </div>
  </div>
</section>

<!-- About Me Section -->
<section
  id="about-me"
  class="section w-full max-w-[1078px] mx-auto px-4 sm:px-6 lg:px-8 pt-32 about-me-reveal"
>
  <!-- Section Header -->
  <div class="grid grid-cols-1 lg:grid-cols-10 gap-0 mb-20">
    <div class="lg:col-span-4">
      <h2 class="text-4xl lg:text-5xl font-bold text-primary">About Me</h2>
    </div>
    <div class="lg:col-span-6">
      <p class="typewriter text-xl lg:text-2xl text-primary font-light">
        > bridging vision and execution
      </p>
    </div>
  </div>

  <!-- Full Width Introduction -->
  <div class="mb-24">
    <p
      class="text-xl lg:text-2xl text-primary/80 leading-relaxed max-w-[800px]"
    >
      {{ .Site.Params.aboutMe.text }}
    </p>
  </div>

  <!-- Two Column Layout with Separator -->
  <div class="relative">
    <!-- Top Separator Line -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
      <div class="h-px bg-primary/20"></div>
      <div class="h-px bg-primary/20"></div>
    </div>

    <div class="mb-24 grid grid-cols-1 lg:grid-cols-2 gap-16 pt-6">
      <!-- Column 1: Values -->
      <div class="values-section">
        <h3 class="text-2xl font-bold text-primary mb-12">Values</h3>
        <div class="space-y-8">
          {{ range $index, $item := .Site.Params.aboutMe.values }}
          <div class="group">
            <div class="relative h-16 overflow-hidden">
              <p class="my-3 text-5xl font-bold text-primary/80 absolute bottom-0 left-0 number-slide">0{{ $index }}</p>
            </div>
            <div class="h-px bg-primary/20"></div>
            <p
              class="text-xl text-primary group-hover:text-primary/80 transition-colors"
            >
              {{ $item.value }}
            </p>
          </div>
          {{ end }}
        </div>
      </div>

      <!-- Column 2: Timeline -->
      <div>
        <h3 class="text-2xl font-bold text-primary mb-12">Timeline</h3>
        <div class="relative">
          <!-- Continuous vertical line that spans all entries -->
          <div
            class="absolute left-[-1px] top-[6px] bottom-0 w-[1px] bg-primary/20"
          ></div>
          <!-- Timeline -->
          <div >
            <!-- <div class="space-y-8 relative"> -->
              <!-- Continuous vertical line that spans all entries -->
              <div
                class="absolute left-[-1px] top-[6px] bottom-0 w-[1px] bg-primary/20"
              ></div>
              {{ range .Site.Params.aboutMe.timeline }}
              <div class="relative mb-8 pl-8">
                <div
                  class="absolute left-[-3.5px] top-[6px] w-[6px] h-[6px] rounded-full bg-primary"
                ></div>
                <div class="text-xl font-bold text-primary mb-2">
                  {{ .year }}
                </div>
                <div class="text-lg font-semibold text-primary mb-2">
                  {{ .description }}
                </div>
                <p class="text-primary/80">{{ .subtext }}</p>
              </div>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Blog Writings Grid Section -->
<section
  id="writings"
  class="section w-full max-w-[1078px] mx-auto px-4 sm:px-6 lg:px-8 pt-32 writings-reveal"
>
  <!-- Section Header -->
  <div class="grid grid-cols-1 lg:grid-cols-10 gap-0 mb-20">
    <div class="lg:col-span-4">
      <a href="/posts" class="text-4xl lg:text-5xl text-primary font-bold hover:orange-text hover:underline">Writings</a>
    </div>
    <div class="lg:col-span-6">
      <p class="typewriter text-xl lg:text-2xl text-primary font-light">
        > thoughts, ideas, and learnings
      </p>
    </div>
  </div>

  <!-- Writings List -->
  <div class="space-y-0">
    {{ $mainPosts := (sort (where site.RegularPages "Type" "in"
    site.Params.mainSections) "Date" "desc") }} {{ range $mainPosts }}
    <article
      class="writing-item group py-8 border-b border-primary/10 last:border-0"
    >
      <div class="grid grid-cols-[200px_1fr] gap-4">
        <time datetime="{{ .Date }}" class="text-lg text-primary/60"
          >{{ .Date.Format "January 2, 2006" }}</time
        >
        <h3
          class="text-2xl font-bold text-primary group-hover:text-primary/80 transition-colors"
        >
          <a href="{{ .Permalink }}" class="block"> {{ .Title }} </a>
        </h3>
      </div>
    </article>
    {{ end }}
  </div>
</section>

{{ partial "form.html" . }}

<!-- Collaborate Section -->
 <div class="bg-blue-600" id="collaborate-wrapper">
  <section
    id="collaborate"
    class="bg-blue-600 text-white section w-full mx-auto px-4 sm:px-6 lg:px-8 pt-32 collaborate-reveal relative overflow-hidden"
  >
    <div class="collaborate-parallax absolute inset-0" style="transform: translateZ(0);"></div>
    <div class="max-w-[1078px] mx-auto relative z-10">
      <!-- Section Header -->
      <div class="grid grid-cols-1 lg:grid-cols-10 gap-0 mb-20">
        <div class="lg:col-span-10">
          <h2 class="text-4xl lg:text-5xl font-bold collaborate-title">Let's Build Something</h2>
        </div>
      </div>

      <!-- Two Column Layout -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 mb-16">
        <!-- Open To Column -->
        <div>
      <div class="h-[2px] bg-white mb-8"></div>
          <h3 class="text-2xl font-bold mb-6">Open To:</h3>
          <ul class="space-y-2">
            <li class="flex items-start">
              <span class="mr-2 font-mono">&gt;</span>
              <span class="text-lg">Joining early-stage startups</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2 font-mono">&gt;</span>
              <span class="text-lg">Consulting for equity + cash</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2 font-mono">&gt;</span>
              <span class="text-lg"
                >Long-term engagements with stable funding</span
              >
            </li>
          </ul>
        </div>

        <!-- Won't Do Column -->
        <div>
      <div class="h-[2px] bg-white mb-8"></div>
          <h3 class="text-2xl font-bold mb-6">Won't Do:</h3>
          <ul class="space-y-2">
            <li class="flex items-start">
              <span class="mr-2 font-mono">&gt;</span>
              <span class="text-lg">Work "for exposure"</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2 font-mono">&gt;</span>
              <span class="text-lg">Fix your crypto scam dApp</span>
            </li>
            <li class="flex items-start">
              <span class="mr-2 font-mono">&gt;</span>
              <span class="text-lg">Join 12-founder teams with no product</span>
            </li>
          </ul>
        </div>
      </div>

      <!-- separator-->
      <div class="h-[2px] bg-white"></div>
      <!-- Contact Section -->
      <div class="mt-8">
        <!-- <h3 class="text-2xl font-bold mb-6">Contact</h3> -->
        <p class="text-xl mb-4">
          No spam, no "quick calls," no vague ideas. Be real.
        </p>
        <a
          href="mailto:oleg@nexo.sh"
          class="typewriter text-8xl font-bold hover:underline transition-colors"
          >> oleg@nexo.sh</a
        >
      </div>
    </div>
  </section>
</div>

<script>
  // Parallax effect for collaborate section
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof gsap !== "undefined" && typeof ScrollTrigger !== "undefined") {
      // Content parallax effect (slower)
      gsap.to("#collaborate", {
        scrollTrigger: {
          trigger: "#collaborate",
          start: "top bottom",
          end: "bottom top",
          scrub: true,
        },
        y: "-400px",
        ease: "none",
      });
    }
  });
</script>

<script>
  // Header color change when entering blue collaborate section
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof gsap !== "undefined" && typeof ScrollTrigger !== "undefined") {
      // Create a GSAP ScrollTrigger for the header color change
      ScrollTrigger.create({
        trigger: document.getElementById("collaborate-wrapper"), //".bg-blue-600",
        start: "top 200px", // When the top of the blue section reaches 10% from the top
        end: "bottom 10%", // When the bottom of the blue section reaches 10% from the top
        onEnter: () => {
          const header = document.getElementById("header-wrapper");
          header.classList.add("in-blue-section");
        },
        onLeave: () => {
          const header = document.getElementById("header-wrapper");
          header.classList.remove("in-blue-section");
        },
        onEnterBack: () => {
          const header = document.getElementById("header-wrapper");
          header.classList.add("in-blue-section");
        },
        onLeaveBack: () => {
          const header = document.getElementById("header-wrapper");
          header.classList.remove("in-blue-section");
        }
      });
    }
  });
</script>

<script>
  // Name slide animation
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof gsap !== "undefined" && typeof ScrollTrigger !== "undefined") {
      const nameParts = document.querySelectorAll('.name-slide');
      
      gsap.fromTo(nameParts, 
        {
          x: '120%',
          opacity: 0
        },
        {
          scrollTrigger: {
            trigger: '.name-slide-container',
            start: 'top 80%',
            end: 'top 40%',
            scrub: 1,
            toggleActions: 'play none none reverse',
          },
          x: '0%',
          opacity: 1,
          stagger: 0.1,
          ease: 'power2.out'
        }
      );
    }
  });
</script>

<script>
  // Parallax effect for introduction text
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof gsap !== "undefined" && typeof ScrollTrigger !== "undefined") {
      gsap.fromTo(".parallax-text", {y: "-20%"}, {
        scrollTrigger: {
          trigger: ".parallax-text",
          start: "top 40%",
          end: "bottom 80%",
          scrub: 1,
        },
        y: "0%", // Moves slower than scroll
        ease: "none"
      });
    }
  });
</script>
{{end}}
